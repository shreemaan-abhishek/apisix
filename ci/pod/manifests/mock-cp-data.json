{
  "consumers": [
    {
      "id": "rose/credentials/542f7414-87f6-4793-a68e-99983dde9913",
      "name": "rose",
      "plugins": {
        "key-auth": {
          "key": "csdt8UPw76/SG+WlHBoFeg=="
        }
      }
    },
    {
      "id": "rose",
      "plugins": {
        "limit-count": {
          "allow_degradation": false,
          "count": 100000000,
          "key": "remote_addr",
          "key_type": "var",
          "policy": "local",
          "rejected_code": 429,
          "show_limit_quota_header": true,
          "time_window": 3
        }
      },
      "username": "rose"
    },
    {
      "plugins": {
        "basic-auth": {
          "_meta": {
            "disable": false
          },
          "password": "AhnrEYW3EWsX3dhtP1uPWg==",
          "username": "ba"
        }
      },
      "username": "ba"
    }
  ],
  "global_rules": [
    {
      "id": "api7ee-global-rule",
      "plugins": {
        "prometheus": {
          "_meta": {
            "disable": false
          },
          "prefer_name": false
        }
      }
    }
  ],
  "routes": [
    {
      "enable_websocket": false,
      "id": "c461d7cb-64fa-46a9-8d07-cd40a6ecbdfa",
      "methods": [
        "GET",
        "HEAD",
        "POST",
        "PUT",
        "DELETE",
        "OPTIONS",
        "TRACE",
        "PATCH"
      ],
      "name": "route",
      "plugins": {
        "basic-auth": {
          "_meta": {
            "disable": false
          },
          "hide_credentials": false
        },
        "limit-count": {
          "_meta": {
            "disable": false
          },
          "allow_degradation": false,
          "count": 2,
          "key": "remote_addr",
          "key_type": "var",
          "policy": "local",
          "rejected_code": 504,
          "show_limit_quota_header": true,
          "time_window": 60
        }
      },
      "priority": 0,
      "service_id": "a865641d-7439-4463-a31d-d97c862c5623",
      "status": 1,
      "uris": [
        "/get"
      ]
    },
    {
      "enable_websocket": false,
      "id": "ec300fbc-ad61-483b-9424-d0a7163ee648",
      "methods": [
        "GET"
      ],
      "name": "route",
      "plugins": {
        "3rd-party": {
          "_meta": {
            "disable": false
          },
          "body": "this is custom_plugin custom body"
        }
      },
      "priority": 0,
      "service_id": "a865641d-7439-4463-a31d-d97c862c5623",
      "status": 1,
      "uris": [
        "/ip"
      ]
    }
  ],
  "services": [
    {
      "id": "a865641d-7439-4463-a31d-d97c862c5623",
      "name": "svc",
      "status": 1,
      "strip_path_prefix": true,
      "upstream_id": "a865641d-7439-4463-a31d-d97c862c5623"
    }
  ],
  "ssls": [
    {
      "cert": "-----BEGIN CERTIFICATE-----\nMIIC9jCCAd6gAwIBAgIUYgK2JiHvwnf9XxxCoIAGJiap1f0wDQYJKoZIhvcNAQEL\nBQAwETEPMA0GA1UEAwwGUk9PVENBMCAXDTI0MDYxODA0NDUwNloYDzIxMjQwNTI1\nMDQ0NTA2WjATMREwDwYDVQQDDAh0ZXN0LmNvbTCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBAMdQPrVinfB7CLWYxWRQqVOwrRf8go9UiSXaQpN8sX2g1ZbS\n/I1FkK98rNivRbAPb2dVcQjR87en1iG5UKgzsburZkpqprn8kBLmzGbd/SNHh7iD\n3OgklFAFK6kdwjE/fNQ81HN/IdONs7jMQ14/yoNnzMd2mayrdLkaXnP8u+yFhhRu\nBAW+pD5GLqt5LGnTK/STKjgO+2FEaXPYWQk+tStXE+cGO3DrAj/Ovx2OoMIEWVTg\nRkVGKWUj4kPDjkqYR7/CtWsf2auHe2o2WXOAe3ssutyuAQdXWPeoXghkPRYKgGVa\n8ARAxYo79V0bFGaxwrk+qrdUS66+Hs+AptCwQ0UCAwEAAaNCMEAwHQYDVR0OBBYE\nFHXwJoWYaKOI9+Ix7LIXd7FxouwTMB8GA1UdIwQYMBaAFLP0CofIycamw4oYFoge\nqywOoMweMA0GCSqGSIb3DQEBCwUAA4IBAQCIP7qBJfCRnPdr9rfR9rEOQIv9bod7\nPz6OgZ8xCAGP5GQKzUJXEBJGvNBNXMGB3vGakMA8tny1tjbyqLCaBlgEK28jgMZI\nqQ/Muh2RQHfniHYXZRVl8MB5f6NePTxUlT6lvWap9yvQJOo9j4vB6sH92RlRLPPy\nkAXPUNNK3omny2o1t87E8yL9NibyMGvf/d6Z4PyCf9vRUCQtrU73HmjWJr3/uWID\ntL1ikrDufgNAPebS92z4ByXQE8+AoUn3LZDEEzyXQ4+YPPVjTP26HDnP1H2uoYn0\nEfHZERKvlIRHR0z8KKJcizkxVe8ew7BmFNd1Ebq3w4aVypuTZXvwfJOD\n-----END CERTIFICATE-----",
      "id": "9d069297-01eb-42b2-bbb9-957d49c75efb",
      "key": "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",
      "snis": [
        "test.com"
      ],
      "type": "server"
    }
  ],
  "upstreams": [
    {
      "id": "a865641d-7439-4463-a31d-d97c862c5623",
      "nodes": [
        {
          "host": "httpbin.local",
          "port": 8280,
          "priority": 0,
          "weight": 100
        }
      ],
      "pass_host": "pass",
      "retry_timeout": 0,
      "scheme": "http",
      "type": "roundrobin"
    }
  ],
  "custom_plugins": [
    {
      "content": "local core = require(\"apisix.core\")\nlocal schema = {\n    type = \"object\",\n    properties = {\n        body = {\n            description = \"body to replace response.\",\n            type = \"string\"\n        },\n    },\n    required = {\"body\"},\n}\n\nlocal plugin_name = \"3rd-party\"\nlocal _M = {\n    version = 0.1,\n    priority = 12,\n    name = plugin_name,\n    schema = schema,\n}\n\nfunction _M.check_schema(conf)\n    return core.schema.check(schema, conf)\nend\n\nfunction _M.access(conf, ctx)\n    core.log.warn(\"running custom plugin\")\n    return 200, conf.body\nend\n\nreturn _M\n",
      "name": "3rd-party",
      "id": "3rd-party"
    }
  ],
  "plugins": [
    {
      "name": "basic-auth"
    },
    {
      "name": "limit-count"
    },
    {
      "name": "prometheus"
    },
    {
      "name": "key-auth"
    },
    {
      "name": "3rd-party",
      "is_custom": true
    }
  ]
}
